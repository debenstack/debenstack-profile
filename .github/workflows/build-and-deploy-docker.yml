name: 'Build And Publish Latest'
on: [push]

jobs:

  build-and-publish-latest:
      runs-on: ubuntu-latest
      if: github.ref == 'refs/heads/master' # Running this job only for master branch

      steps:
          - uses: actions/checkout@v2 # Checking out the repo

          - name: Build and publish Docker Image to GitHub Container Registry
            uses: TCPShield/gp-docker-action@1.1.13
            with:
                github-token: ${{ secrets.GITHUB_TOKEN }} # Provide GITHUB_TOKEN to login into the GitHub Packages